from flask import Flask, request

app = Flask(__name__)

@app.route('/')
def home():
    user_agent = request.headers.get('User-Agent', 'Không có')
    
    # Một số kiểm tra thủ công cơ bản
    ua_lower = user_agent.lower()
    info = {
        "User-Agent đầy đủ": user_agent,
        "Có phải mobile?": any(x in ua_lower for x in ['mobile', 'android', 'iphone', 'ipad', 'ipod', 'blackberry', 'windows phone']),
        "Có phải tablet?": any(x in ua_lower for x in ['ipad', 'tablet', 'kindle', 'playbook', 'nexus 7']),
        "Hệ điều hành nghi ngờ": "iOS" if 'iphone' in ua_lower or 'ipad' in ua_lower else \
                               "Android" if 'android' in ua_lower else \
                               "Windows" if 'windows' in ua_lower else \
                               "Mac" if 'mac os' in ua_lower else "Không rõ",
        "Trình duyệt nghi ngờ": "Chrome" if 'chrome' in ua_lower else \
                               "Safari" if 'safari' in ua_lower and 'chrome' not in ua_lower else \
                               "Firefox" if 'firefox' in ua_lower else "Không rõ"
    }
    
    return f"""
    <h2>Thông tin thiết bị truy cập</h2>
    <pre>{info}</pre>
    """

if __name__ == '__main__':
    app.run(debug=True)
